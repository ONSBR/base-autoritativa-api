{
  "code": "'use strict';var cov_2r8ff24eb4=function(){var path='/Users/coichedid/Projetos/BaseAutoritativaAPI/base-autoritativa-api/src/api/sistemas.js',hash='da9161878ac41a2a621637765bb0703758d4e331',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/coichedid/Projetos/BaseAutoritativaAPI/base-autoritativa-api/src/api/sistemas.js',statementMap:{'0':{start:{line:3,column:0},end:{line:5,column:3}},'1':{start:{line:7,column:16},end:{line:7,column:45}},'2':{start:{line:9,column:17},end:{line:9,column:50}},'3':{start:{line:11,column:39},end:{line:11,column:93}},'4':{start:{line:14,column:16},end:{line:14,column:18}},'5':{start:{line:15,column:2},end:{line:15,column:48}},'6':{start:{line:17,column:14},end:{line:31,column:3}},'7':{start:{line:18,column:21},end:{line:18,column:23}},'8':{start:{line:19,column:4},end:{line:22,column:7}},'9':{start:{line:20,column:6},end:{line:20,column:61}},'10':{start:{line:20,column:34},end:{line:20,column:61}},'11':{start:{line:21,column:6},end:{line:21,column:57}},'12':{start:{line:23,column:4},end:{line:30,column:5}},'13':{start:{line:24,column:19},end:{line:24,column:21}},'14':{start:{line:25,column:6},end:{line:25,column:23}},'15':{start:{line:26,column:6},end:{line:26,column:27}},'16':{start:{line:27,column:31},end:{line:27,column:72}},'17':{start:{line:28,column:6},end:{line:28,column:38}},'18':{start:{line:29,column:6},end:{line:29,column:27}},'19':{start:{line:33,column:2},end:{line:35,column:3}},'20':{start:{line:34,column:4},end:{line:34,column:15}},'21':{start:{line:36,column:2},end:{line:36,column:28}},'22':{start:{line:38,column:23},end:{line:72,column:1}},'23':{start:{line:45,column:4},end:{line:49,column:7}},'24':{start:{line:46,column:6},end:{line:46,column:37}},'25':{start:{line:48,column:6},end:{line:48,column:30}},'26':{start:{line:55,column:17},end:{line:55,column:28}},'27':{start:{line:57,column:4},end:{line:57,column:24}},'28':{start:{line:58,column:4},end:{line:62,column:7}},'29':{start:{line:59,column:6},end:{line:59,column:28}},'30':{start:{line:61,column:6},end:{line:61,column:42}},'31':{start:{line:68,column:18},end:{line:68,column:31}},'32':{start:{line:70,column:4},end:{line:70,column:22}},'33':{start:{line:73,column:21},end:{line:114,column:1}},'34':{start:{line:77,column:19},end:{line:77,column:31}},'35':{start:{line:79,column:20},end:{line:79,column:34}},'36':{start:{line:80,column:6},end:{line:88,column:7}},'37':{start:{line:81,column:8},end:{line:85,column:11}},'38':{start:{line:82,column:10},end:{line:82,column:32}},'39':{start:{line:84,column:10},end:{line:84,column:46}},'40':{start:{line:87,column:8},end:{line:87,column:67}},'41':{start:{line:94,column:19},end:{line:94,column:31}},'42':{start:{line:95,column:18},end:{line:95,column:29}},'43':{start:{line:97,column:19},end:{line:97,column:31}},'44':{start:{line:98,column:20},end:{line:98,column:34}},'45':{start:{line:99,column:6},end:{line:111,column:7}},'46':{start:{line:100,column:8},end:{line:108,column:11}},'47':{start:{line:101,column:23},end:{line:101,column:27}},'48':{start:{line:102,column:10},end:{line:105,column:34}},'49':{start:{line:103,column:12},end:{line:103,column:51}},'50':{start:{line:104,column:12},end:{line:104,column:41}},'51':{start:{line:105,column:17},end:{line:105,column:34}},'52':{start:{line:107,column:10},end:{line:107,column:46}},'53':{start:{line:110,column:8},end:{line:110,column:67}},'54':{start:{line:116,column:0},end:{line:122,column:2}},'55':{start:{line:120,column:4},end:{line:120,column:41}}},fnMap:{'0':{name:'_interopRequireDefault',decl:{start:{line:11,column:9},end:{line:11,column:31}},loc:{start:{line:11,column:37},end:{line:11,column:95}},line:11},'1':{name:'transformTablesJson2CSV',decl:{start:{line:13,column:9},end:{line:13,column:32}},loc:{start:{line:13,column:39},end:{line:37,column:1}},line:13},'2':{name:'_loop',decl:{start:{line:17,column:23},end:{line:17,column:28}},loc:{start:{line:17,column:34},end:{line:31,column:3}},line:17},'3':{name:'(anonymous_3)',decl:{start:{line:19,column:35},end:{line:19,column:36}},loc:{start:{line:19,column:51},end:{line:22,column:5}},line:19},'4':{name:'load',decl:{start:{line:44,column:17},end:{line:44,column:21}},loc:{start:{line:44,column:41},end:{line:50,column:3}},line:44},'5':{name:'(anonymous_5)',decl:{start:{line:45,column:43},end:{line:45,column:44}},loc:{start:{line:45,column:59},end:{line:47,column:5}},line:45},'6':{name:'(anonymous_6)',decl:{start:{line:47,column:13},end:{line:47,column:14}},loc:{start:{line:47,column:31},end:{line:49,column:5}},line:47},'7':{name:'index',decl:{start:{line:54,column:18},end:{line:54,column:23}},loc:{start:{line:54,column:35},end:{line:63,column:3}},line:54},'8':{name:'(anonymous_8)',decl:{start:{line:58,column:37},end:{line:58,column:38}},loc:{start:{line:58,column:53},end:{line:60,column:5}},line:58},'9':{name:'(anonymous_9)',decl:{start:{line:60,column:13},end:{line:60,column:14}},loc:{start:{line:60,column:31},end:{line:62,column:5}},line:60},'10':{name:'read',decl:{start:{line:67,column:17},end:{line:67,column:21}},loc:{start:{line:67,column:34},end:{line:71,column:3}},line:67},'11':{name:'action',decl:{start:{line:76,column:21},end:{line:76,column:27}},loc:{start:{line:76,column:40},end:{line:89,column:5}},line:76},'12':{name:'(anonymous_12)',decl:{start:{line:81,column:62},end:{line:81,column:63}},loc:{start:{line:81,column:78},end:{line:83,column:9}},line:81},'13':{name:'(anonymous_13)',decl:{start:{line:83,column:17},end:{line:83,column:18}},loc:{start:{line:83,column:35},end:{line:85,column:9}},line:83},'14':{name:'action',decl:{start:{line:93,column:21},end:{line:93,column:27}},loc:{start:{line:93,column:40},end:{line:112,column:5}},line:93},'15':{name:'(anonymous_15)',decl:{start:{line:100,column:64},end:{line:100,column:65}},loc:{start:{line:100,column:80},end:{line:106,column:9}},line:100},'16':{name:'(anonymous_16)',decl:{start:{line:106,column:17},end:{line:106,column:18}},loc:{start:{line:106,column:35},end:{line:108,column:9}},line:106},'17':{name:'setConfig',decl:{start:{line:119,column:22},end:{line:119,column:31}},loc:{start:{line:119,column:40},end:{line:121,column:3}},line:119}},branchMap:{'0':{loc:{start:{line:11,column:46},end:{line:11,column:92}},type:'cond-expr',locations:[{start:{line:11,column:70},end:{line:11,column:73}},{start:{line:11,column:76},end:{line:11,column:92}}],line:11},'1':{loc:{start:{line:11,column:46},end:{line:11,column:67}},type:'binary-expr',locations:[{start:{line:11,column:46},end:{line:11,column:49}},{start:{line:11,column:53},end:{line:11,column:67}}],line:11},'2':{loc:{start:{line:20,column:6},end:{line:20,column:61}},type:'if',locations:[{start:{line:20,column:6},end:{line:20,column:61}},{start:{line:20,column:6},end:{line:20,column:61}}],line:20},'3':{loc:{start:{line:80,column:6},end:{line:88,column:7}},type:'if',locations:[{start:{line:80,column:6},end:{line:88,column:7}},{start:{line:80,column:6},end:{line:88,column:7}}],line:80},'4':{loc:{start:{line:80,column:10},end:{line:80,column:39}},type:'binary-expr',locations:[{start:{line:80,column:10},end:{line:80,column:17}},{start:{line:80,column:21},end:{line:80,column:39}}],line:80},'5':{loc:{start:{line:99,column:6},end:{line:111,column:7}},type:'if',locations:[{start:{line:99,column:6},end:{line:111,column:7}},{start:{line:99,column:6},end:{line:111,column:7}}],line:99},'6':{loc:{start:{line:99,column:10},end:{line:99,column:39}},type:'binary-expr',locations:[{start:{line:99,column:10},end:{line:99,column:17}},{start:{line:99,column:21},end:{line:99,column:39}}],line:99},'7':{loc:{start:{line:102,column:10},end:{line:105,column:34}},type:'if',locations:[{start:{line:102,column:10},end:{line:105,column:34}},{start:{line:102,column:10},end:{line:105,column:34}}],line:102},'8':{loc:{start:{line:102,column:14},end:{line:102,column:53}},type:'binary-expr',locations:[{start:{line:102,column:14},end:{line:102,column:20}},{start:{line:102,column:24},end:{line:102,column:53}}],line:102}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();++cov_2r8ff24eb4.s[0];Object.defineProperty(exports,\"__esModule\",{value:true});var _Sistemas=(++cov_2r8ff24eb4.s[1],require('../models/Sistemas'));var _Sistemas2=(++cov_2r8ff24eb4.s[2],_interopRequireDefault(_Sistemas));function _interopRequireDefault(obj){++cov_2r8ff24eb4.f[0];++cov_2r8ff24eb4.s[3];return(++cov_2r8ff24eb4.b[1][0],obj)&&(++cov_2r8ff24eb4.b[1][1],obj.__esModule)?(++cov_2r8ff24eb4.b[0][0],obj):(++cov_2r8ff24eb4.b[0][1],{default:obj});}function transformTablesJson2CSV(data){++cov_2r8ff24eb4.f[1];var results=(++cov_2r8ff24eb4.s[4],[]);++cov_2r8ff24eb4.s[5];results.push(['UsuÃ¡rio','Verbo','Tabelas']);++cov_2r8ff24eb4.s[6];var _loop=function _loop(key){++cov_2r8ff24eb4.f[2];var resultItem=(++cov_2r8ff24eb4.s[7],{});++cov_2r8ff24eb4.s[8];data.results[key].data.forEach(function(item){++cov_2r8ff24eb4.f[3];++cov_2r8ff24eb4.s[9];if(!resultItem[item.verb]){++cov_2r8ff24eb4.b[2][0];++cov_2r8ff24eb4.s[10];resultItem[item.verb]=[];}else{++cov_2r8ff24eb4.b[2][1];}++cov_2r8ff24eb4.s[11];resultItem[item.verb].push(item.fromIdentificador);});++cov_2r8ff24eb4.s[12];for(var verbKey in resultItem){var result=(++cov_2r8ff24eb4.s[13],[]);++cov_2r8ff24eb4.s[14];result.push(key);++cov_2r8ff24eb4.s[15];result.push(verbKey);var fromIdentificadors=(++cov_2r8ff24eb4.s[16],'\"'+resultItem[verbKey].join(',')+'\"');++cov_2r8ff24eb4.s[17];result.push(fromIdentificadors);++cov_2r8ff24eb4.s[18];results.push(result);}};++cov_2r8ff24eb4.s[19];for(var key in data.results){++cov_2r8ff24eb4.s[20];_loop(key);}++cov_2r8ff24eb4.s[21];return results.join('\\n');}var generalFunctions=(++cov_2r8ff24eb4.s[22],{id:'sistema',/** For requests with an `id`, you can auto-load the entity.\n   *  Errors terminate the request, success sets `req[id] = data`.\n   */load:function load(req,id,callback){++cov_2r8ff24eb4.f[4];++cov_2r8ff24eb4.s[23];_Sistemas2.default.getSistema(id).then(function(data){++cov_2r8ff24eb4.f[5];++cov_2r8ff24eb4.s[24];return callback(null,data[0]);}).catch(function(reason){++cov_2r8ff24eb4.f[6];++cov_2r8ff24eb4.s[25];return callback(reason);});},/** GET / - List all entities */index:function index(_ref,res){++cov_2r8ff24eb4.f[7];var params=(++cov_2r8ff24eb4.s[26],_ref.params);++cov_2r8ff24eb4.s[27];console.log('Real');++cov_2r8ff24eb4.s[28];_Sistemas2.default.getAll().then(function(data){++cov_2r8ff24eb4.f[8];++cov_2r8ff24eb4.s[29];return res.json(data);}).catch(function(reason){++cov_2r8ff24eb4.f[9];++cov_2r8ff24eb4.s[30];return res.status(400).send(reason);});},/** GET /:id - Return a given entity */read:function read(_ref2,res){++cov_2r8ff24eb4.f[10];var sistema=(++cov_2r8ff24eb4.s[31],_ref2.sistema);++cov_2r8ff24eb4.s[32];res.json(sistema);}});var extraFunctions=(++cov_2r8ff24eb4.s[33],{users:{verb:'get',action:function action(_ref3,res){++cov_2r8ff24eb4.f[11];var params=(++cov_2r8ff24eb4.s[34],_ref3.params);var sistema=(++cov_2r8ff24eb4.s[35],params.sistema);++cov_2r8ff24eb4.s[36];if((++cov_2r8ff24eb4.b[4][0],sistema)&&(++cov_2r8ff24eb4.b[4][1],sistema.length>0)){++cov_2r8ff24eb4.b[3][0];++cov_2r8ff24eb4.s[37];_Sistemas2.default.getAllSistemaDbUsers(sistema).then(function(data){++cov_2r8ff24eb4.f[12];++cov_2r8ff24eb4.s[38];return res.json(data);}).catch(function(reason){++cov_2r8ff24eb4.f[13];++cov_2r8ff24eb4.s[39];return res.status(400).send(reason);});}else{++cov_2r8ff24eb4.b[3][1];++cov_2r8ff24eb4.s[40];res.status(400).send({message:'Invalid sistema param'});}}},tables:{verb:'get',action:function action(_ref4,res){++cov_2r8ff24eb4.f[14];var params=(++cov_2r8ff24eb4.s[41],_ref4.params),query=(++cov_2r8ff24eb4.s[42],_ref4.query);var format=(++cov_2r8ff24eb4.s[43],query.format);var sistema=(++cov_2r8ff24eb4.s[44],params.sistema);++cov_2r8ff24eb4.s[45];if((++cov_2r8ff24eb4.b[6][0],sistema)&&(++cov_2r8ff24eb4.b[6][1],sistema.length>0)){++cov_2r8ff24eb4.b[5][0];++cov_2r8ff24eb4.s[46];_Sistemas2.default.getTablesReadBySistema(sistema).then(function(data){++cov_2r8ff24eb4.f[15];var result=(++cov_2r8ff24eb4.s[47],data);++cov_2r8ff24eb4.s[48];if((++cov_2r8ff24eb4.b[8][0],format)&&(++cov_2r8ff24eb4.b[8][1],'csv'==format.toLowerCase())){++cov_2r8ff24eb4.b[7][0];++cov_2r8ff24eb4.s[49];result=transformTablesJson2CSV(data);++cov_2r8ff24eb4.s[50];res.status(200).send(result);}else{++cov_2r8ff24eb4.b[7][1];++cov_2r8ff24eb4.s[51];res.json(result);}}).catch(function(reason){++cov_2r8ff24eb4.f[16];++cov_2r8ff24eb4.s[52];return res.status(400).send(reason);});}else{++cov_2r8ff24eb4.b[5][1];++cov_2r8ff24eb4.s[53];res.status(400).send({message:'Invalid sistema param'});}}}});++cov_2r8ff24eb4.s[54];exports.default={generalFunctions:generalFunctions,extraFunctions:extraFunctions,setConfig:function setConfig(config){++cov_2r8ff24eb4.f[17];++cov_2r8ff24eb4.s[55];_Sistemas2.default.setConfig(config);}};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpc3RlbWFzLmpzIl0sIm5hbWVzIjpbInRyYW5zZm9ybVRhYmxlc0pzb24yQ1NWIiwiZGF0YSIsInJlc3VsdHMiLCJwdXNoIiwia2V5IiwicmVzdWx0SXRlbSIsImZvckVhY2giLCJpdGVtIiwidmVyYiIsImZyb21JZGVudGlmaWNhZG9yIiwidmVyYktleSIsInJlc3VsdCIsImZyb21JZGVudGlmaWNhZG9ycyIsImpvaW4iLCJnZW5lcmFsRnVuY3Rpb25zIiwiaWQiLCJsb2FkIiwicmVxIiwiY2FsbGJhY2siLCJnZXRTaXN0ZW1hIiwidGhlbiIsImNhdGNoIiwicmVhc29uIiwiaW5kZXgiLCJyZXMiLCJwYXJhbXMiLCJjb25zb2xlIiwibG9nIiwiZ2V0QWxsIiwianNvbiIsInN0YXR1cyIsInNlbmQiLCJyZWFkIiwic2lzdGVtYSIsImV4dHJhRnVuY3Rpb25zIiwidXNlcnMiLCJhY3Rpb24iLCJsZW5ndGgiLCJnZXRBbGxTaXN0ZW1hRGJVc2VycyIsIm1lc3NhZ2UiLCJ0YWJsZXMiLCJxdWVyeSIsImZvcm1hdCIsImdldFRhYmxlc1JlYWRCeVNpc3RlbWEiLCJ0b0xvd2VyQ2FzZSIsInNldENvbmZpZyIsImNvbmZpZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OztBQUVBLFNBQVNBLHVCQUFULENBQWlDQyxJQUFqQyxFQUF1QztBQUNyQyxNQUFJQyxVQUFVLEVBQWQ7QUFDQUEsVUFBUUMsSUFBUixDQUFhLENBQUMsU0FBRCxFQUFZLE9BQVosRUFBcUIsU0FBckIsQ0FBYjs7QUFGcUMsNkJBRzVCQyxHQUg0QjtBQUluQyxRQUFJQyxhQUFhLEVBQWpCO0FBQ0FKLFNBQUtDLE9BQUwsQ0FBYUUsR0FBYixFQUFrQkgsSUFBbEIsQ0FBdUJLLE9BQXZCLENBQWdDLFVBQUNDLElBQUQsRUFBVTtBQUN4QyxVQUFJLENBQUNGLFdBQVdFLEtBQUtDLElBQWhCLENBQUwsRUFBNEJILFdBQVdFLEtBQUtDLElBQWhCLElBQXdCLEVBQXhCO0FBQzVCSCxpQkFBV0Us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O0FBQ0EsVUFBSVQsVUFBVVIsT0FBT1EsT0FBckI7QUFDQSxVQUFJQSxXQUFXQSxRQUFRSSxNQUFSLEdBQWlCLENBQWhDLEVBQW1DO0FBQ2pDLDJCQUFTTSxzQkFBVCxDQUFnQ1YsT0FBaEMsRUFDR2IsSUFESCxDQUNTLFVBQUNuQixJQUFELEVBQVU7QUFDZixjQUFJVSxTQUFTVixJQUFiO0FBQ0EsY0FBSXlDLFVBQVUsU0FBU0EsT0FBT0UsV0FBUCxFQUF2QixFQUE2QztBQUMzQ2pDLHFCQUFTWCx3QkFBd0JDLElBQXhCLENBQVQ7QUFDQXVCLGdCQUFJTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJwQixNQUFyQjtBQUNELFdBSEQsTUFJS2EsSUFBSUssSUFBSixDQUFTbEIsTUFBVDtBQUNOLFNBUkgsRUFTR1UsS0FUSCxDQVNVLFVBQUNDLE1BQUQ7QUFBQSxpQkFBWUUsSUFBSU0sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCVCxNQUFyQixDQUFaO0FBQUEsU0FUVjtBQVVELE9BWEQsTUFZSztBQUNIRSxZQUFJTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBQ1EsU0FBUSx1QkFBVCxFQUFyQjtBQUNEO0FBQ0Y7QUFwQkk7QUFmWSxDQUFyQjs7a0JBdUNlO0FBQ2J6QixvQkFBaUJBLGdCQURKO0FBRWJvQixrQkFBZUEsY0FGRjtBQUdiVyxhQUFVLG1CQUFDQyxNQUFELEVBQVk7QUFBRSx1QkFBU0QsU0FBVCxDQUFtQkMsTUFBbkI7QUFBNkI7QUFIeEMsQyIsImZpbGUiOiJzaXN0ZW1hcy5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvY29pY2hlZGlkL1Byb2pldG9zL0Jhc2VBdXRvcml0YXRpdmFBUEkvYmFzZS1hdXRvcml0YXRpdmEtYXBpL3NyYy9hcGkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2lzdGVtYXMgZnJvbSAnLi4vbW9kZWxzL1Npc3RlbWFzJztcblxuZnVuY3Rpb24gdHJhbnNmb3JtVGFibGVzSnNvbjJDU1YoZGF0YSkge1xuICBsZXQgcmVzdWx0cyA9IFtdO1xuICByZXN1bHRzLnB1c2goWydVc3XDoXJpbycsICdWZXJibycsICdUYWJlbGFzJ10pO1xuICBmb3IgKGxldCBrZXkgaW4gZGF0YS5yZXN1bHRzKSB7XG4gICAgbGV0IHJlc3VsdEl0ZW0gPSB7fTtcbiAgICBkYXRhLnJlc3VsdHNba2V5XS5kYXRhLmZvckVhY2goIChpdGVtKSA9PiB7XG4gICAgICBpZiAoIXJlc3VsdEl0ZW1baXRlbS52ZXJiXSkgcmVzdWx0SXRlbVtpdGVtLnZlcmJdID0gW107XG4gICAgICByZXN1bHRJdGVtW2l0ZW0udmVyYl0ucHVzaChpdGVtLmZyb21JZGVudGlmaWNhZG9yKTtcbiAgICB9ICk7XG4gICAgZm9yIChsZXQgdmVyYktleSBpbiByZXN1bHRJdGVtKSB7XG4gICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgcmVzdWx0LnB1c2godmVyYktleSk7XG4gICAgICBsZXQgZnJvbUlkZW50aWZpY2Fkb3JzID0gJ1wiJyArIHJlc3VsdEl0ZW1bdmVyYktleV0uam9pbignLCcpICsgJ1wiJztcbiAgICAgIHJlc3VsdC5wdXNoKGZyb21JZGVudGlmaWNhZG9ycyk7XG4gICAgICByZXN1bHRzLnB1c2gocmVzdWx0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHMuam9pbignXFxuJyk7XG59XG5sZXQgZ2VuZXJhbEZ1bmN0aW9ucyA9IHtcbiAgaWQ6J3Npc3RlbWEnLFxuXG4gIC8qKiBGb3IgcmVxdWVzdHMgd2l0aCBhbiBgaWRgLCB5b3UgY2FuIGF1dG8tbG9hZCB0aGUgZW50aXR5LlxuICAgKiAgRXJyb3JzIHRlcm1pbmF0ZSB0aGUgcmVxdWVzdCwgc3VjY2VzcyBzZXRzIGByZXFbaWRdID0gZGF0YWAuXG4gICAqL1xuICBsb2FkKHJlcSwgaWQsIGNhbGxiYWNrKSB7XG4gICAgU2lzdGVtYXMuZ2V0U2lzdGVtYShpZClcbiAgICAgIC50aGVuKCAoZGF0YSkgPT4gY2FsbGJhY2sobnVsbCwgZGF0YVswXSkgKVxuICAgICAgLmNhdGNoKCAocmVhc29uKSA9PiBjYWxsYmFjayhyZWFzb24pICk7XG4gIH0sXG5cbiAgLyoqIEdFVCAvIC0gTGlzdCBhbGwgZW50aXRpZXMgKi9cbiAgaW5kZXgoeyBwYXJhbXMgfSwgcmVzKSB7XG4gICAgY29uc29sZS5sb2coJ1JlYWwnKTtcbiAgICBTaXN0ZW1hcy5nZXRBbGwoKVxuICAgICAgLnRoZW4oIChkYXRhKSA9PiByZXMuanNvbihkYXRhKSApXG4gICAgICAuY2F0Y2goIChyZWFzb24pID0+IHJlcy5zdGF0dXMoNDAwKS5zZW5kKHJlYXNvbikgKTtcbiAgfSxcblxuICAvKiogR0VUIC86aWQgLSBSZXR1cm4gYSBnaXZlbiBlbnRpdHkgKi9cbiAgcmVhZCh7IHNpc3RlbWEgfSwgcmVzKSB7XG4gICAgcmVzLmpzb24oc2lzdGVtYSk7XG4gIH1cbn07XG5sZXQgZXh0cmFGdW5jdGlvbnMgPSB7XG4gIHVzZXJzOntcbiAgICB2ZXJiOidnZXQnLFxuICAgIGFjdGlvbjooe3BhcmFtc30scmVzKSA9PiB7XG4gICAgICBsZXQgc2lzdGVtYSA9IHBhcmFtcy5zaXN0ZW1hO1xuICAgICAgaWYgKHNpc3RlbWEgJiYgc2lzdGVtYS5sZW5ndGggPiAwKSB7XG4gICAgICAgIFNpc3RlbWFzLmdldEFsbFNpc3RlbWFEYlVzZXJzKHNpc3RlbWEpXG4gICAgICAgICAgLnRoZW4oIChkYXRhKSA9PiByZXMuanNvbihkYXRhKSApXG4gICAgICAgICAgLmNhdGNoKCAocmVhc29uKSA9PiByZXMuc3RhdHVzKDQwMCkuc2VuZChyZWFzb24pICk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoe21lc3NhZ2U6J0ludmFsaWQgc2lzdGVtYSBwYXJhbSd9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHRhYmxlczp7XG4gICAgdmVyYjonZ2V0JyxcbiAgICBhY3Rpb246KHtwYXJhbXMsIHF1ZXJ5fSxyZXMpID0+IHtcbiAgICAgIGxldCBmb3JtYXQgPSBxdWVyeS5mb3JtYXQ7XG4gICAgICBsZXQgc2lzdGVtYSA9IHBhcmFtcy5zaXN0ZW1hO1xuICAgICAgaWYgKHNpc3RlbWEgJiYgc2lzdGVtYS5sZW5ndGggPiAwKSB7XG4gICAgICAgIFNpc3RlbWFzLmdldFRhYmxlc1JlYWRCeVNpc3RlbWEoc2lzdGVtYSlcbiAgICAgICAgICAudGhlbiggKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBkYXRhO1xuICAgICAgICAgICAgaWYgKGZvcm1hdCAmJiAnY3N2JyA9PSBmb3JtYXQudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICByZXN1bHQgPSB0cmFuc2Zvcm1UYWJsZXNKc29uMkNTVihkYXRhKTtcbiAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgcmVzLmpzb24ocmVzdWx0KTtcbiAgICAgICAgICB9IClcbiAgICAgICAgICAuY2F0Y2goIChyZWFzb24pID0+IHJlcy5zdGF0dXMoNDAwKS5zZW5kKHJlYXNvbikgKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCh7bWVzc2FnZTonSW52YWxpZCBzaXN0ZW1hIHBhcmFtJ30pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdlbmVyYWxGdW5jdGlvbnM6Z2VuZXJhbEZ1bmN0aW9ucyxcbiAgZXh0cmFGdW5jdGlvbnM6ZXh0cmFGdW5jdGlvbnMsXG4gIHNldENvbmZpZzooY29uZmlnKSA9PiB7IFNpc3RlbWFzLnNldENvbmZpZyhjb25maWcpOyB9XG59O1xuIl19",
  "hash": "f3fff3cdbcda80d9602bc475ce882ad1"
}
