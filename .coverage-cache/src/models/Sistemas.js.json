{
  "code": "'use strict';var cov_25lycu3ah1=function(){var path=\"/Users/coichedid/Projetos/BaseAutoritativaAPI/base-autoritativa-api/src/models/Sistemas.js\",hash=\"f23065488144292e8187d498219726a4607d54c0\",global=new Function('return this')(),gcv=\"__coverage__\",coverageData={path:\"/Users/coichedid/Projetos/BaseAutoritativaAPI/base-autoritativa-api/src/models/Sistemas.js\",statementMap:{\"0\":{start:{line:3,column:0},end:{line:5,column:3}},\"1\":{start:{line:7,column:19},end:{line:7,column:563}},\"2\":{start:{line:7,column:76},end:{line:7,column:347}},\"3\":{start:{line:7,column:134},end:{line:7,column:142}},\"4\":{start:{line:7,column:144},end:{line:7,column:199}},\"5\":{start:{line:7,column:200},end:{line:7,column:231}},\"6\":{start:{line:7,column:232},end:{line:7,column:286}},\"7\":{start:{line:7,column:259},end:{line:7,column:286}},\"8\":{start:{line:7,column:287},end:{line:7,column:345}},\"9\":{start:{line:7,column:350},end:{line:7,column:559}},\"10\":{start:{line:7,column:407},end:{line:7,column:475}},\"11\":{start:{line:7,column:423},end:{line:7,column:475}},\"12\":{start:{line:7,column:476},end:{line:7,column:536}},\"13\":{start:{line:7,column:493},end:{line:7,column:536}},\"14\":{start:{line:7,column:537},end:{line:7,column:556}},\"15\":{start:{line:9,column:18},end:{line:9,column:40}},\"16\":{start:{line:11,column:18},end:{line:11,column:53}},\"17\":{start:{line:13,column:34},end:{line:13,column:73}},\"18\":{start:{line:15,column:39},end:{line:15,column:93}},\"19\":{start:{line:17,column:50},end:{line:17,column:151}},\"20\":{start:{line:17,column:92},end:{line:17,column:149}},\"21\":{start:{line:19,column:50},end:{line:19,column:151}},\"22\":{start:{line:19,column:63},end:{line:19,column:149}},\"23\":{start:{line:19,column:152},end:{line:19,column:238}},\"24\":{start:{line:21,column:43},end:{line:21,column:208}},\"25\":{start:{line:21,column:106},end:{line:21,column:206}},\"26\":{start:{line:21,column:209},end:{line:21,column:373}},\"27\":{start:{line:21,column:374},end:{line:21,column:492}},\"28\":{start:{line:21,column:390},end:{line:21,column:492}},\"29\":{start:{line:24,column:15},end:{line:130,column:22}},\"30\":{start:{line:25,column:2},end:{line:25,column:34}},\"31\":{start:{line:28,column:4},end:{line:28,column:36}},\"32\":{start:{line:30,column:4},end:{line:30,column:112}},\"33\":{start:{line:33,column:2},end:{line:127,column:6}},\"34\":{start:{line:36,column:6},end:{line:36,column:156}},\"35\":{start:{line:47,column:6},end:{line:47,column:59}},\"36\":{start:{line:62,column:6},end:{line:62,column:62}},\"37\":{start:{line:76,column:6},end:{line:76,column:72}},\"38\":{start:{line:90,column:19},end:{line:90,column:23}},\"39\":{start:{line:92,column:6},end:{line:125,column:9}},\"40\":{start:{line:93,column:8},end:{line:124,column:11}},\"41\":{start:{line:94,column:26},end:{line:94,column:28}},\"42\":{start:{line:95,column:10},end:{line:97,column:13}},\"43\":{start:{line:96,column:12},end:{line:96,column:36}},\"44\":{start:{line:99,column:10},end:{line:121,column:11}},\"45\":{start:{line:100,column:12},end:{line:100,column:47}},\"46\":{start:{line:101,column:12},end:{line:118,column:15}},\"47\":{start:{line:102,column:32},end:{line:102,column:34}},\"48\":{start:{line:103,column:30},end:{line:103,column:31}},\"49\":{start:{line:104,column:14},end:{line:114,column:17}},\"50\":{start:{line:105,column:16},end:{line:110,column:17}},\"51\":{start:{line:106,column:18},end:{line:109,column:20}},\"52\":{start:{line:111,column:16},end:{line:111,column:60}},\"53\":{start:{line:112,column:16},end:{line:112,column:58}},\"54\":{start:{line:113,column:16},end:{line:113,column:31}},\"55\":{start:{line:115,column:14},end:{line:115,column:73}},\"56\":{start:{line:117,column:14},end:{line:117,column:36}},\"57\":{start:{line:120,column:12},end:{line:120,column:54}},\"58\":{start:{line:123,column:10},end:{line:123,column:32}},\"59\":{start:{line:129,column:2},end:{line:129,column:18}},\"60\":{start:{line:132,column:0},end:{line:132,column:33}}},fnMap:{\"0\":{name:\"(anonymous_0)\",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:31},end:{line:7,column:561}},line:7},\"1\":{name:\"defineProperties\",decl:{start:{line:7,column:42},end:{line:7,column:58}},loc:{start:{line:7,column:74},end:{line:7,column:349}},line:7},\"2\":{name:\"(anonymous_2)\",decl:{start:{line:7,column:357},end:{line:7,column:358}},loc:{start:{line:7,column:405},end:{line:7,column:558}},line:7},\"3\":{name:\"_interopRequireDefault\",decl:{start:{line:15,column:9},end:{line:15,column:31}},loc:{start:{line:15,column:37},end:{line:15,column:95}},line:15},\"4\":{name:\"_classCallCheck\",decl:{start:{line:17,column:9},end:{line:17,column:24}},loc:{start:{line:17,column:48},end:{line:17,column:153}},line:17},\"5\":{name:\"_possibleConstructorReturn\",decl:{start:{line:19,column:9},end:{line:19,column:35}},loc:{start:{line:19,column:48},end:{line:19,column:240}},line:19},\"6\":{name:\"_inherits\",decl:{start:{line:21,column:9},end:{line:21,column:18}},loc:{start:{line:21,column:41},end:{line:21,column:494}},line:21},\"7\":{name:\"(anonymous_7)\",decl:{start:{line:24,column:15},end:{line:24,column:16}},loc:{start:{line:24,column:37},end:{line:130,column:1}},line:24},\"8\":{name:\"Sistemas\",decl:{start:{line:27,column:11},end:{line:27,column:19}},loc:{start:{line:27,column:22},end:{line:31,column:3}},line:27},\"9\":{name:\"setEntityConfig\",decl:{start:{line:35,column:20},end:{line:35,column:35}},loc:{start:{line:35,column:38},end:{line:37,column:5}},line:35},\"10\":{name:\"getAll\",decl:{start:{line:46,column:20},end:{line:46,column:26}},loc:{start:{line:46,column:29},end:{line:48,column:5}},line:46},\"11\":{name:\"getSistema\",decl:{start:{line:61,column:20},end:{line:61,column:30}},loc:{start:{line:61,column:40},end:{line:63,column:5}},line:61},\"12\":{name:\"getAllSistemaDbUsers\",decl:{start:{line:75,column:20},end:{line:75,column:40}},loc:{start:{line:75,column:50},end:{line:77,column:5}},line:75},\"13\":{name:\"getTablesReadBySistema\",decl:{start:{line:89,column:20},end:{line:89,column:42}},loc:{start:{line:89,column:52},end:{line:126,column:5}},line:89},\"14\":{name:\"(anonymous_14)\",decl:{start:{line:92,column:25},end:{line:92,column:26}},loc:{start:{line:92,column:52},end:{line:125,column:7}},line:92},\"15\":{name:\"(anonymous_15)\",decl:{start:{line:93,column:74},end:{line:93,column:75}},loc:{start:{line:93,column:94},end:{line:122,column:9}},line:93},\"16\":{name:\"(anonymous_16)\",decl:{start:{line:95,column:23},end:{line:95,column:24}},loc:{start:{line:95,column:36},end:{line:97,column:11}},line:95},\"17\":{name:\"(anonymous_17)\",decl:{start:{line:101,column:79},end:{line:101,column:80}},loc:{start:{line:101,column:95},end:{line:116,column:13}},line:101},\"18\":{name:\"(anonymous_18)\",decl:{start:{line:104,column:23},end:{line:104,column:24}},loc:{start:{line:104,column:36},end:{line:114,column:15}},line:104},\"19\":{name:\"(anonymous_19)\",decl:{start:{line:116,column:21},end:{line:116,column:22}},loc:{start:{line:116,column:39},end:{line:118,column:13}},line:116},\"20\":{name:\"(anonymous_20)\",decl:{start:{line:122,column:17},end:{line:122,column:18}},loc:{start:{line:122,column:35},end:{line:124,column:9}},line:122}},branchMap:{\"0\":{loc:{start:{line:7,column:168},end:{line:7,column:198}},type:\"binary-expr\",locations:[{start:{line:7,column:168},end:{line:7,column:189}},{start:{line:7,column:193},end:{line:7,column:198}}],line:7},\"1\":{loc:{start:{line:7,column:232},end:{line:7,column:286}},type:\"if\",locations:[{start:{line:7,column:232},end:{line:7,column:286}},{start:{line:7,column:232},end:{line:7,column:286}}],line:7},\"2\":{loc:{start:{line:7,column:407},end:{line:7,column:475}},type:\"if\",locations:[{start:{line:7,column:407},end:{line:7,column:475}},{start:{line:7,column:407},end:{line:7,column:475}}],line:7},\"3\":{loc:{start:{line:7,column:476},end:{line:7,column:536}},type:\"if\",locations:[{start:{line:7,column:476},end:{line:7,column:536}},{start:{line:7,column:476},end:{line:7,column:536}}],line:7},\"4\":{loc:{start:{line:15,column:46},end:{line:15,column:92}},type:\"cond-expr\",locations:[{start:{line:15,column:70},end:{line:15,column:73}},{start:{line:15,column:76},end:{line:15,column:92}}],line:15},\"5\":{loc:{start:{line:15,column:46},end:{line:15,column:67}},type:\"binary-expr\",locations:[{start:{line:15,column:46},end:{line:15,column:49}},{start:{line:15,column:53},end:{line:15,column:67}}],line:15},\"6\":{loc:{start:{line:17,column:50},end:{line:17,column:151}},type:\"if\",locations:[{start:{line:17,column:50},end:{line:17,column:151}},{start:{line:17,column:50},end:{line:17,column:151}}],line:17},\"7\":{loc:{start:{line:19,column:50},end:{line:19,column:151}},type:\"if\",locations:[{start:{line:19,column:50},end:{line:19,column:151}},{start:{line:19,column:50},end:{line:19,column:151}}],line:19},\"8\":{loc:{start:{line:19,column:159},end:{line:19,column:237}},type:\"cond-expr\",locations:[{start:{line:19,column:226},end:{line:19,column:230}},{start:{line:19,column:233},end:{line:19,column:237}}],line:19},\"9\":{loc:{start:{line:19,column:159},end:{line:19,column:223}},type:\"binary-expr\",locations:[{start:{line:19,column:159},end:{line:19,column:163}},{start:{line:19,column:168},end:{line:19,column:192}},{start:{line:19,column:196},end:{line:19,column:222}}],line:19},\"10\":{loc:{start:{line:21,column:43},end:{line:21,column:208}},type:\"if\",locations:[{start:{line:21,column:43},end:{line:21,column:208}},{start:{line:21,column:43},end:{line:21,column:208}}],line:21},\"11\":{loc:{start:{line:21,column:47},end:{line:21,column:102}},type:\"binary-expr\",locations:[{start:{line:21,column:47},end:{line:21,column:79}},{start:{line:21,column:83},end:{line:21,column:102}}],line:21},\"12\":{loc:{start:{line:21,column:244},end:{line:21,column:278}},type:\"binary-expr\",locations:[{start:{line:21,column:244},end:{line:21,column:254}},{start:{line:21,column:258},end:{line:21,column:278}}],line:21},\"13\":{loc:{start:{line:21,column:374},end:{line:21,column:492}},type:\"if\",locations:[{start:{line:21,column:374},end:{line:21,column:492}},{start:{line:21,column:374},end:{line:21,column:492}}],line:21},\"14\":{loc:{start:{line:21,column:390},end:{line:21,column:491}},type:\"cond-expr\",locations:[{start:{line:21,column:414},end:{line:21,column:457}},{start:{line:21,column:460},end:{line:21,column:491}}],line:21},\"15\":{loc:{start:{line:30,column:45},end:{line:30,column:98}},type:\"binary-expr\",locations:[{start:{line:30,column:45},end:{line:30,column:63}},{start:{line:30,column:67},end:{line:30,column:98}}],line:30},\"16\":{loc:{start:{line:99,column:10},end:{line:121,column:11}},type:\"if\",locations:[{start:{line:99,column:10},end:{line:121,column:11}},{start:{line:99,column:10},end:{line:121,column:11}}],line:99},\"17\":{loc:{start:{line:105,column:16},end:{line:110,column:17}},type:\"if\",locations:[{start:{line:105,column:16},end:{line:110,column:17}},{start:{line:105,column:16},end:{line:110,column:17}}],line:105}},s:{\"0\":0,\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0,\"21\":0,\"22\":0,\"23\":0,\"24\":0,\"25\":0,\"26\":0,\"27\":0,\"28\":0,\"29\":0,\"30\":0,\"31\":0,\"32\":0,\"33\":0,\"34\":0,\"35\":0,\"36\":0,\"37\":0,\"38\":0,\"39\":0,\"40\":0,\"41\":0,\"42\":0,\"43\":0,\"44\":0,\"45\":0,\"46\":0,\"47\":0,\"48\":0,\"49\":0,\"50\":0,\"51\":0,\"52\":0,\"53\":0,\"54\":0,\"55\":0,\"56\":0,\"57\":0,\"58\":0,\"59\":0,\"60\":0},f:{\"0\":0,\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},b:{\"0\":[0,0],\"1\":[0,0],\"2\":[0,0],\"3\":[0,0],\"4\":[0,0],\"5\":[0,0],\"6\":[0,0],\"7\":[0,0],\"8\":[0,0],\"9\":[0,0,0],\"10\":[0,0],\"11\":[0,0],\"12\":[0,0],\"13\":[0,0],\"14\":[0,0],\"15\":[0,0],\"16\":[0,0],\"17\":[0,0]},_coverageSchema:\"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c\"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();++cov_25lycu3ah1.s[0];Object.defineProperty(exports,\"__esModule\",{value:true});var _createClass=(++cov_25lycu3ah1.s[1],function(){++cov_25lycu3ah1.f[0];function defineProperties(target,props){++cov_25lycu3ah1.f[1];++cov_25lycu3ah1.s[2];for(var i=0;i<props.length;i++){var descriptor=(++cov_25lycu3ah1.s[3],props[i]);++cov_25lycu3ah1.s[4];descriptor.enumerable=(++cov_25lycu3ah1.b[0][0],descriptor.enumerable)||(++cov_25lycu3ah1.b[0][1],false);++cov_25lycu3ah1.s[5];descriptor.configurable=true;++cov_25lycu3ah1.s[6];if(\"value\"in descriptor){++cov_25lycu3ah1.b[1][0];++cov_25lycu3ah1.s[7];descriptor.writable=true;}else{++cov_25lycu3ah1.b[1][1];}++cov_25lycu3ah1.s[8];Object.defineProperty(target,descriptor.key,descriptor);}}++cov_25lycu3ah1.s[9];return function(Constructor,protoProps,staticProps){++cov_25lycu3ah1.f[2];++cov_25lycu3ah1.s[10];if(protoProps){++cov_25lycu3ah1.b[2][0];++cov_25lycu3ah1.s[11];defineProperties(Constructor.prototype,protoProps);}else{++cov_25lycu3ah1.b[2][1];}++cov_25lycu3ah1.s[12];if(staticProps){++cov_25lycu3ah1.b[3][0];++cov_25lycu3ah1.s[13];defineProperties(Constructor,staticProps);}else{++cov_25lycu3ah1.b[3][1];}++cov_25lycu3ah1.s[14];return Constructor;};}());var _ModelBase2=(++cov_25lycu3ah1.s[15],require('./ModelBase'));var _ModelBase3=(++cov_25lycu3ah1.s[16],_interopRequireDefault(_ModelBase2));var _baseAutoritativaConnectors=(++cov_25lycu3ah1.s[17],require('base-autoritativa-connectors'));function _interopRequireDefault(obj){++cov_25lycu3ah1.f[3];++cov_25lycu3ah1.s[18];return(++cov_25lycu3ah1.b[5][0],obj)&&(++cov_25lycu3ah1.b[5][1],obj.__esModule)?(++cov_25lycu3ah1.b[4][0],obj):(++cov_25lycu3ah1.b[4][1],{default:obj});}function _classCallCheck(instance,Constructor){++cov_25lycu3ah1.f[4];++cov_25lycu3ah1.s[19];if(!(instance instanceof Constructor)){++cov_25lycu3ah1.b[6][0];++cov_25lycu3ah1.s[20];throw new TypeError(\"Cannot call a class as a function\");}else{++cov_25lycu3ah1.b[6][1];}}function _possibleConstructorReturn(self,call){++cov_25lycu3ah1.f[5];++cov_25lycu3ah1.s[21];if(!self){++cov_25lycu3ah1.b[7][0];++cov_25lycu3ah1.s[22];throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}else{++cov_25lycu3ah1.b[7][1];}++cov_25lycu3ah1.s[23];return(++cov_25lycu3ah1.b[9][0],call)&&((++cov_25lycu3ah1.b[9][1],typeof call===\"object\")||(++cov_25lycu3ah1.b[9][2],typeof call===\"function\"))?(++cov_25lycu3ah1.b[8][0],call):(++cov_25lycu3ah1.b[8][1],self);}function _inherits(subClass,superClass){++cov_25lycu3ah1.f[6];++cov_25lycu3ah1.s[24];if((++cov_25lycu3ah1.b[11][0],typeof superClass!==\"function\")&&(++cov_25lycu3ah1.b[11][1],superClass!==null)){++cov_25lycu3ah1.b[10][0];++cov_25lycu3ah1.s[25];throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}else{++cov_25lycu3ah1.b[10][1];}++cov_25lycu3ah1.s[26];subClass.prototype=Object.create((++cov_25lycu3ah1.b[12][0],superClass)&&(++cov_25lycu3ah1.b[12][1],superClass.prototype),{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});++cov_25lycu3ah1.s[27];if(superClass){++cov_25lycu3ah1.b[13][0];++cov_25lycu3ah1.s[28];Object.setPrototypeOf?(++cov_25lycu3ah1.b[14][0],Object.setPrototypeOf(subClass,superClass)):(++cov_25lycu3ah1.b[14][1],subClass.__proto__=superClass);}else{++cov_25lycu3ah1.b[13][1];}}// our example model is just an Array\nvar Sistemas=(++cov_25lycu3ah1.s[29],function(_ModelBase){++cov_25lycu3ah1.f[7];++cov_25lycu3ah1.s[30];_inherits(Sistemas,_ModelBase);function Sistemas(){++cov_25lycu3ah1.f[8];++cov_25lycu3ah1.s[31];_classCallCheck(this,Sistemas);++cov_25lycu3ah1.s[32];return _possibleConstructorReturn(this,((++cov_25lycu3ah1.b[15][0],Sistemas.__proto__)||(++cov_25lycu3ah1.b[15][1],Object.getPrototypeOf(Sistemas))).call(this));}++cov_25lycu3ah1.s[33];_createClass(Sistemas,[{key:'setEntityConfig',value:function setEntityConfig(){++cov_25lycu3ah1.f[9];++cov_25lycu3ah1.s[34];this.mapaInformacaoConnector=new _baseAutoritativaConnectors.MapaInformacaoConnector(this.config.mapaInformacaoBaseUrl,this.config.authentication);}/**\n    *\n    * Retrive all Sistema objects from Neo4J repository\n    * return a Promise to retrived data\n    */},{key:'getAll',value:function getAll(){++cov_25lycu3ah1.f[10];++cov_25lycu3ah1.s[35];return this.mapaInformacaoConnector.getAllSistemas();}/**\n    *\n    * Get a sistema from mapa da informaÃ§Ã£o Neo4J\n    * params:\n    * sistema\n    * return a Promise of an array of objects representing sistema\n    *\n    */},{key:'getSistema',value:function getSistema(sistema){++cov_25lycu3ah1.f[11];++cov_25lycu3ah1.s[36];return this.mapaInformacaoConnector.getSistema(sistema);}/**\n    *\n    * Retrive all database users of a sistemas\n    * params:\n    * sistema - sistema name\n    * return a Promisse of an array of database users internal logins\n    */},{key:'getAllSistemaDbUsers',value:function getAllSistemaDbUsers(sistema){++cov_25lycu3ah1.f[12];++cov_25lycu3ah1.s[37];return this.mapaInformacaoConnector.getAllSistemaDbUsers(sistema);}/**\n     *\n     * Retrive a list of tables with READ access from this sistema\n     * params:\n     * sistema - sistema name\n     * return a Promisse of an array of database users internal logins and respective accessed tables\n     */},{key:'getTablesReadBySistema',value:function getTablesReadBySistema(sistema){++cov_25lycu3ah1.f[13];var _this2=(++cov_25lycu3ah1.s[38],this);++cov_25lycu3ah1.s[39];return new Promise(function(resolve,reject){++cov_25lycu3ah1.f[14];++cov_25lycu3ah1.s[40];_this2.mapaInformacaoConnector.getAllSistemaDbUsers(sistema).then(function(userData){++cov_25lycu3ah1.f[15];var userCodes=(++cov_25lycu3ah1.s[41],'');++cov_25lycu3ah1.s[42];userData.map(function(u){++cov_25lycu3ah1.f[16];++cov_25lycu3ah1.s[43];userCodes+=u.id+',';});++cov_25lycu3ah1.s[44];if(userCodes!=''){++cov_25lycu3ah1.b[16][0];++cov_25lycu3ah1.s[45];userCodes=userCodes.slice(0,-1);++cov_25lycu3ah1.s[46];_this2.mapaInformacaoConnector.getTablesReadByUser(userCodes).then(function(data){++cov_25lycu3ah1.f[17];var reducedData=(++cov_25lycu3ah1.s[47],{});var mainCount=(++cov_25lycu3ah1.s[48],0);++cov_25lycu3ah1.s[49];data.map(function(d){++cov_25lycu3ah1.f[18];++cov_25lycu3ah1.s[50];if(!reducedData[d.toIdentificador]){++cov_25lycu3ah1.b[17][0];++cov_25lycu3ah1.s[51];reducedData[d.toIdentificador]={data:[],count:0};}else{++cov_25lycu3ah1.b[17][1];}++cov_25lycu3ah1.s[52];reducedData[d.toIdentificador].data.push(d);++cov_25lycu3ah1.s[53];reducedData[d.toIdentificador].count+=1;++cov_25lycu3ah1.s[54];mainCount+=1;});++cov_25lycu3ah1.s[55];resolve({results:reducedData,totalTabelas:mainCount});}).catch(function(reason){++cov_25lycu3ah1.f[19];++cov_25lycu3ah1.s[56];return reject(reason);});}else{++cov_25lycu3ah1.b[16][1];++cov_25lycu3ah1.s[57];resolve({results:{},totalTabelas:0});}}).catch(function(reason){++cov_25lycu3ah1.f[20];++cov_25lycu3ah1.s[58];return reject(reason);});});}}]);++cov_25lycu3ah1.s[59];return Sistemas;}(_ModelBase3.default));++cov_25lycu3ah1.s[60];exports.default=new Sistemas();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNpc3RlbWFzLmpzIl0sIm5hbWVzIjpbIlNpc3RlbWFzIiwibWFwYUluZm9ybWFjYW9Db25uZWN0b3IiLCJjb25maWciLCJtYXBhSW5mb3JtYWNhb0Jhc2VVcmwiLCJhdXRoZW50aWNhdGlvbiIsImdldEFsbFNpc3RlbWFzIiwic2lzdGVtYSIsImdldFNpc3RlbWEiLCJnZXRBbGxTaXN0ZW1hRGJVc2VycyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidGhlbiIsInVzZXJEYXRhIiwidXNlckNvZGVzIiwibWFwIiwidSIsImlkIiwic2xpY2UiLCJnZXRUYWJsZXNSZWFkQnlVc2VyIiwiZGF0YSIsInJlZHVjZWREYXRhIiwibWFpbkNvdW50IiwiZCIsInRvSWRlbnRpZmljYWRvciIsImNvdW50IiwicHVzaCIsInJlc3VsdHMiLCJ0b3RhbFRhYmVsYXMiLCJjYXRjaCIsInJlYXNvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OzsrZUFGQTs7O0lBSU1BLFE7OztBQUNKLHNCQUFjO0FBQUE7O0FBQUE7QUFFYjs7OztzQ0FFaUI7QUFDaEIsV0FBS0MsdUJBQUwsR0FBK0Isd0RBQTRCLEtBQUtDLE1BQUwsQ0FBWUMscUJBQXhDLEVBQThELEtBQUtELE1BQUwsQ0FBWUUsY0FBMUUsQ0FBL0I7QUFDRDtBQUNEOzs7Ozs7Ozs2QkFLUztBQUNQLGFBQU8sS0FBS0gsdUJBQUwsQ0FBNkJJLGNBQTdCLEVBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7K0JBUVdDLE8sRUFBUztBQUNsQixhQUFPLEtBQUtMLHVCQUFMLENBQTZCTSxVQUE3QixDQUF3Q0QsT0FBeEMsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7O3lDQU9xQkEsTyxFQUFTO0FBQzVCLGFBQU8sS0FBS0wsdUJBQUwsQ0FBNkJPLG9CQUE3QixDQUFrREYsT0FBbEQsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7OzJDQU91QkEsTyxFQUFTO0FBQUE7O0FBQzlCLGFBQU8sSUFBSUcsT0FBSixDQUFhLFVBQUNDLE9BQUQsRUFBU0MsTUFBVCxFQUFvQjtBQUN0QyxlQUFLVix1QkFBTCxDQUE2Qk8sb0JBQTdCLENBQWtERixPQUFsRCxFQUNHTSxJQURILENBQ1MsVUFBQ0MsUUFBRCxFQUFjO0FBQ25CLGNBQUlDLFlBQVksRUFBaEI7QUFDQUQsbUJBQVNFLEdBQVQsQ0FBYyxVQUFDQyxDQUFELEVBQU87QUFDbkJGLHlCQUFjRSxFQUFFQyxFQUFGLEdBQU8sR0FBckI7QUFDRCxXQUZEOztBQUlBLGNBQUlILGFBQWEsRUFBakIsRUFBcUI7QUFDbkJBLHdCQUFZQSxVQUFVSSxLQUFWLENBQWdCLENBQWhCLEVBQWtCLENBQUMsQ0FBbkIsQ0FBWjtBQUNBLG1CQUFLakIsdUJBQUwsQ0FBNkJrQixtQkFBN0IsQ0FBaURMLFNBQWpELEVBQ0dGLElBREgsQ0FDUyxVQUFDUSxJQUFELEVBQVU7QUFDZixrQkFBSUMsY0FBYyxFQUFsQjtBQUNBLGtCQUFJQyxZQUFZLENBQWhCO0FBQ0FGLG1CQUFLTCxHQUFMLENBQVUsVUFBQ1EsQ0FBRCxFQUFPO0FBQ2Ysb0JBQUksQ0FBQ0YsWUFBWUUsRUFBRUMsZUFBZCxDQUFMLEVBQXFDO0FBQ25DSCw4QkFBWUUsRUFBRUMsZUFBZCxJQUFpQztBQUMvQkosMEJBQUssRUFEMEI7QUFFL0JLLDJCQUFNO0FBRnlCLG1CQUFqQztBQUlEO0FBQ0RKLDRCQUFZRSxFQUFFQyxlQUFkLEVBQStCSixJQUEvQixDQUFvQ00sSUFBcEMsQ0FBeUNILENBQXpDO0FBQ0FGLDRCQUFZRSxFQUFFQyxlQUFkLEVBQStCQyxLQUEvQixJQUF3QyxDQUF4QztBQUNBSCw2QkFBYSxDQUFiO0FBQ0QsZUFWRDtBQVdBWixzQkFBUSxFQUFDaUIsU0FBUU4sV0FBVCxFQUFzQk8sY0FBYU4sU0FBbkMsRUFBUjtBQUNELGFBaEJILEVBaUJHTyxLQWpCSCxDQWlCVSxVQUFDQyxNQUFEO0FBQUEscUJBQVluQixPQUFPbUIsTUFBUCxDQUFaO0FBQUEsYUFqQlY7QUFrQkQsV0FwQkQsTUFxQks7QUFDSHBCLG9CQUFRLEVBQUNpQixTQUFRLEVBQVQsRUFBYUMsY0FBYSxDQUExQixFQUFSO0FBQ0Q7QUFDRixTQS9CSCxFQWdDR0MsS0FoQ0gsQ0FnQ1UsVUFBQ0MsTUFBRDtBQUFBLGlCQUFZbkIsT0FBT21CLE1BQVAsQ0FBWjtBQUFBLFNBaENWO0FBaUNELE9BbENNLENBQVA7QUFtQ0Q7Ozs7OztrQkFFWSxJQUFJOUIsUUFBSixFIiwiZmlsZSI6IlNpc3RlbWFzLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2ljaGVkaWQvUHJvamV0b3MvQmFzZUF1dG9yaXRhdGl2YUFQSS9iYXNlLWF1dG9yaXRhdGl2YS1hcGkvc3JjL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG91ciBleGFtcGxlIG1vZGVsIGlzIGp1c3QgYW4gQXJyYXlcbmltcG9ydCBNb2RlbEJhc2UgZnJvbSAnLi9Nb2RlbEJhc2UnO1xuaW1wb3J0IHtNYXBhSW5mb3JtYWNhb0Nvbm5lY3Rvcn0gZnJvbSAnYmFzZS1hdXRvcml0YXRpdmEtY29ubmVjdG9ycyc7XG5cbmNsYXNzIFNpc3RlbWFzIGV4dGVuZHMgTW9kZWxCYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHNldEVudGl0eUNvbmZpZygpIHtcbiAgICB0aGlzLm1hcGFJbmZvcm1hY2FvQ29ubmVjdG9yID0gbmV3IE1hcGFJbmZvcm1hY2FvQ29ubmVjdG9yKHRoaXMuY29uZmlnLm1hcGFJbmZvcm1hY2FvQmFzZVVybCx0aGlzLmNvbmZpZy5hdXRoZW50aWNhdGlvbik7XG4gIH1cbiAgLyoqXG4gICpcbiAgKiBSZXRyaXZlIGFsbCBTaXN0ZW1hIG9iamVjdHMgZnJvbSBOZW80SiByZXBvc2l0b3J5XG4gICogcmV0dXJuIGEgUHJvbWlzZSB0byByZXRyaXZlZCBkYXRhXG4gICovXG4gIGdldEFsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXBhSW5mb3JtYWNhb0Nvbm5lY3Rvci5nZXRBbGxTaXN0ZW1hcygpOyBcbiAgfVxuXG4gIC8qKlxuICAqXG4gICogR2V0IGEgc2lzdGVtYSBmcm9tIG1hcGEgZGEgaW5mb3JtYcOnw6NvIE5lbzRKXG4gICogcGFyYW1zOlxuICAqIHNpc3RlbWFcbiAgKiByZXR1cm4gYSBQcm9taXNlIG9mIGFuIGFycmF5IG9mIG9iamVjdHMgcmVwcmVzZW50aW5nIHNpc3RlbWFcbiAgKlxuICAqL1xuICBnZXRTaXN0ZW1hKHNpc3RlbWEpIHtcbiAgICByZXR1cm4gdGhpcy5tYXBhSW5mb3JtYWNhb0Nvbm5lY3Rvci5nZXRTaXN0ZW1hKHNpc3RlbWEpO1xuICB9XG5cbiAgLyoqXG4gICpcbiAgKiBSZXRyaXZlIGFsbCBkYXRhYmFzZSB1c2VycyBvZiBhIHNpc3RlbWFzXG4gICogcGFyYW1zOlxuICAqIHNpc3RlbWEgLSBzaXN0ZW1hIG5hbWVcbiAgKiByZXR1cm4gYSBQcm9taXNzZSBvZiBhbiBhcnJheSBvZiBkYXRhYmFzZSB1c2VycyBpbnRlcm5hbCBsb2dpbnNcbiAgKi9cbiAgZ2V0QWxsU2lzdGVtYURiVXNlcnMoc2lzdGVtYSkge1xuICAgIHJldHVybiB0aGlzLm1hcGFJbmZvcm1hY2FvQ29ubmVjdG9yLmdldEFsbFNpc3RlbWFEYlVzZXJzKHNpc3RlbWEpO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIFJldHJpdmUgYSBsaXN0IG9mIHRhYmxlcyB3aXRoIFJFQUQgYWNjZXNzIGZyb20gdGhpcyBzaXN0ZW1hXG4gICAqIHBhcmFtczpcbiAgICogc2lzdGVtYSAtIHNpc3RlbWEgbmFtZVxuICAgKiByZXR1cm4gYSBQcm9taXNzZSBvZiBhbiBhcnJheSBvZiBkYXRhYmFzZSB1c2VycyBpbnRlcm5hbCBsb2dpbnMgYW5kIHJlc3BlY3RpdmUgYWNjZXNzZWQgdGFibGVzXG4gICAqL1xuICBnZXRUYWJsZXNSZWFkQnlTaXN0ZW1hKHNpc3RlbWEpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoIChyZXNvbHZlLHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5tYXBhSW5mb3JtYWNhb0Nvbm5lY3Rvci5nZXRBbGxTaXN0ZW1hRGJVc2VycyhzaXN0ZW1hKVxuICAgICAgICAudGhlbiggKHVzZXJEYXRhKSA9PiB7XG4gICAgICAgICAgbGV0IHVzZXJDb2RlcyA9ICcnO1xuICAgICAgICAgIHVzZXJEYXRhLm1hcCggKHUpID0+IHtcbiAgICAgICAgICAgIHVzZXJDb2RlcyArPSAodS5pZCArICcsJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAodXNlckNvZGVzICE9ICcnKSB7XG4gICAgICAgICAgICB1c2VyQ29kZXMgPSB1c2VyQ29kZXMuc2xpY2UoMCwtMSk7XG4gICAgICAgICAgICB0aGlzLm1hcGFJbmZvcm1hY2FvQ29ubmVjdG9yLmdldFRhYmxlc1JlYWRCeVVzZXIodXNlckNvZGVzKVxuICAgICAgICAgICAgICAudGhlbiggKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgcmVkdWNlZERhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICBsZXQgbWFpbkNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBkYXRhLm1hcCggKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmICghcmVkdWNlZERhdGFbZC50b0lkZW50aWZpY2Fkb3JdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZHVjZWREYXRhW2QudG9JZGVudGlmaWNhZG9yXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOltdLFxuICAgICAgICAgICAgICAgICAgICAgIGNvdW50OjBcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJlZHVjZWREYXRhW2QudG9JZGVudGlmaWNhZG9yXS5kYXRhLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICByZWR1Y2VkRGF0YVtkLnRvSWRlbnRpZmljYWRvcl0uY291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICAgIG1haW5Db3VudCArPSAxO1xuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoe3Jlc3VsdHM6cmVkdWNlZERhdGEsIHRvdGFsVGFiZWxhczptYWluQ291bnR9KTtcbiAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICAgIC5jYXRjaCggKHJlYXNvbikgPT4gcmVqZWN0KHJlYXNvbikgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHtyZXN1bHRzOnt9LCB0b3RhbFRhYmVsYXM6MH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCAocmVhc29uKSA9PiByZWplY3QocmVhc29uKSApO1xuICAgIH0pO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBuZXcgU2lzdGVtYXMoKTtcbiJdfQ==",
  "hash": "7ad22cb0de2030ab7edb3496f3a23172"
}
